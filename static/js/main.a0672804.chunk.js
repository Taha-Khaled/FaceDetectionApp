(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},35:function(e,t){},36:function(e,t){},37:function(e,t){},39:function(e,t,c){"use strict";c.r(t);var s=c(3),n=c(18),a=c.n(n),i=(c(24),c(5)),r=(c(25),c(26),c.p+"static/media/electronics.cb9b030e.png"),o=c(2),l=function(e){return Object(o.jsxs)("div",{className:"topnav",children:[Object(o.jsxs)("div",{className:"home",children:[Object(o.jsx)("img",{src:r,alt:""}),Object(o.jsx)("span",{style:{marginRight:15},children:"Face Detection App"}),Object(o.jsx)("a",{className:e.Checker.post?"active":"",href:"#CreatePost",onClick:e.postClicked,children:"Create Post"}),Object(o.jsx)("a",{className:e.Checker.mode?"active":"",href:"#modeCheker",onClick:e.modeClicked,children:"Mode Checker"}),Object(o.jsx)("a",{className:e.Checker.detect?"active":"",href:"#CreatePost",onClick:e.detectClicked,children:"Face Detections"})]}),Object(o.jsx)("div",{className:"back",children:Object(o.jsx)("a",{href:"back",children:"Back"})})]})},d=function(e){return Object(o.jsx)("div",{className:"newPostCard",children:Object(o.jsxs)("div",{className:"addPost",children:[Object(o.jsx)("img",{src:"https://images.pexels.com/photos/9371782/pexels-photo-9371782.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:"",className:"avatar"}),Object(o.jsxs)("div",{className:"postForm",children:[Object(o.jsx)("input",{type:"text",placeholder:"What's on your mind?",className:"postInput"}),Object(o.jsxs)("label",{htmlFor:"file",children:[Object(o.jsx)("img",{className:"addImg",src:"https://cdn.icon-icons.com/icons2/564/PNG/512/Add_Image_icon-icons.com_54218.png",alt:""}),Object(o.jsx)("img",{className:"addImg",src:"https://icon-library.com/images/maps-icon-png/maps-icon-png-5.jpg",alt:""}),Object(o.jsx)("img",{className:"addImg",src:"https://d29fhpw069ctt2.cloudfront.net/icon/image/84451/preview.svg",alt:""}),Object(o.jsx)("button",{children:"Send"})]}),Object(o.jsx)("input",{onChange:e.getFile,id:"file",style:{display:"none"},type:"file"})]})]})})},j=c(10),h=c(15),u=c(19),m=c(7),b=c.n(m),O=c(11),f=c(4),g=function(e,t,c){var n=Object(s.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],l=Object(s.useCallback)(Object(O.a)(b.a.mark((function s(){var n,a;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.c(c.current,new f.a);case 2:n=s.sent,a=f.g(n,{width:e,height:t}),o(a.map((function(e){return Object.values(e.box)})));case 5:case"end":return s.stop()}}),s)}))),[t,c,e]);return Object(s.useEffect)((function(){c.current&&Promise.all([f.f.tinyFaceDetector.loadFromUri("/models")]).then(l).catch((function(e){return console.log(e)}))}),[c,l]),r},p=function(e,t){var c=e.image,n=Object(s.useState)([]),a=Object(i.a)(n,2),r=a[0],l=a[1],d=Object(s.useRef)(),m=Object(s.useRef)(),b=c.url,O=c.width,f=c.height,p=g(O,f,d),x=function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))};return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"left",style:{width:O,height:f},children:[Object(o.jsx)("img",{ref:d,crossOrigin:"anonymous",src:b,alt:"",width:O,height:f}),Object(o.jsx)("canvas",{onMouseEnter:function(){var e=m.current.getContext("2d");e.lineWidth=3,e.strokeStyle="yellow",p.map((function(t){return e.strokeRect.apply(e,Object(u.a)(t))}))},ref:m,width:O,height:f}),p.map((function(e,t){return Object(o.jsx)("input",{name:"input".concat(t),style:{left:e[0],top:e[1]+e[3]+5},placeholder:"Tag a friend",className:"friendInput",onChange:x},t)}))]}),Object(o.jsxs)("div",{className:"right",children:[Object(o.jsx)("h1",{children:"Share your post"}),Object(o.jsx)("input",{type:"text",placeholder:"What's on your mind?",className:"rightInput"}),r&&Object(o.jsxs)("span",{className:"friends",children:["with ",Object(o.jsx)("span",{className:"name",children:Object.values(r)+" "})]}),Object(o.jsx)("button",{className:"rightButton",children:"Send"})]})]})},x=function(e,t,c,n,a){var i=Object(s.useCallback)(Object(O.a)(b.a.mark((function s(){var i,r;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.c(c.current,new f.a).withFaceLandmarks().withFaceExpressions();case 2:if(i=s.sent,n.current.innerHtml=f.b(c.current),f.e(n.current,{width:e,height:t}),r=f.g(i,{width:e,height:t}),!a){s.next=9;break}return f.d.drawFaceLandmarks(n.current,r),s.abrupt("return");case 9:f.d.drawDetections(n.current,r),f.d.drawFaceExpressions(n.current,r);case 11:case"end":return s.stop()}}),s)}))),[a,n,t,c,e]);Object(s.useEffect)((function(){c.current&&Promise.all([f.f.tinyFaceDetector.loadFromUri("/models"),f.f.faceLandmark68Net.loadFromUri("/models"),f.f.faceRecognitionNet.loadFromUri("/models"),f.f.faceExpressionNet.loadFromUri("/models")]).then(i).catch((function(e){return console.log(e)}))}),[c,i])},v=function(e){var t=e.image,c=Object(s.useRef)(),n=Object(s.useRef)(),a=t.url,i=t.width,r=t.height;return x(i,r,c,n,!1),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"left",style:{width:i,height:r},children:[Object(o.jsx)("img",{ref:c,crossOrigin:"anonymous",src:a,alt:"",width:i,height:r}),Object(o.jsx)("canvas",{ref:n,width:i,height:r})]}),Object(o.jsx)("div",{className:"right"})]})},w=function(e){var t=e.image,c=Object(s.useRef)(),n=Object(s.useRef)(),a=t.url,i=t.width,r=t.height;return x(i,r,c,n,!0),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"left",style:{width:i,height:r},children:[Object(o.jsx)("img",{ref:c,crossOrigin:"anonymous",src:a,alt:"",width:i,height:r}),Object(o.jsx)("canvas",{ref:n,width:i,height:r})]}),Object(o.jsx)("div",{className:"right"})]})};var N=function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(),r=Object(i.a)(a,2),j=r[0],h=r[1],u=Object(s.useState)({post:!0,mode:!1,detect:!1}),m=Object(i.a)(u,2),b=m[0],O=m[1];Object(s.useEffect)((function(){c&&function(){var e=new Image;e.src=URL.createObjectURL(c),e.onload=function(){for(;e.width>=1e3||e.height>=600;)e.width*=.8,e.height*=.8;h({url:e.src,width:e.width,height:e.height}),console.log(e.width,e.height)}}()}),[c]);var f=function(e){n(e.target.files[0])};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{Checker:b,postClicked:function(){O({post:!0,mode:!1,detect:!1})},modeClicked:function(){O({post:!1,mode:!0,detect:!1})},detectClicked:function(){O({post:!1,mode:!1,detect:!0})}}),b.post&&Object(o.jsx)("div",{children:j?Object(o.jsx)(p,{image:j}):Object(o.jsx)(d,{getFile:f})}),b.mode&&Object(o.jsx)("div",{children:j?Object(o.jsx)(v,{image:j}):Object(o.jsx)(d,{getFile:f})}),b.detect&&Object(o.jsx)("div",{children:j?Object(o.jsx)(w,{image:j}):Object(o.jsx)(d,{getFile:f})}),Object(o.jsx)("div",{className:"footer",children:Object(o.jsx)("span",{children:"\xa9 tahakhaledabdellah@gmail.com"})})]})};a.a.render(Object(o.jsx)(N,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a0672804.chunk.js.map